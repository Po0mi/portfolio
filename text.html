<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GSAP Particles</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js"></script>
    <style>
      body {
        margin: 0;
        padding: 0;
        background: #1a1a1a;
        height: 100vh;
        overflow: hidden;
        position: relative;
      }

      .particles-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 0;
      }

      .particle {
        position: absolute;
        width: 4px;
        height: 4px;
        background: rgba(179, 17, 17, 0.8);
        border-radius: 50%;
        box-shadow: 0 0 6px rgba(179, 17, 17, 0.4);
      }

      .particle.large {
        width: 6px;
        height: 6px;
        background: rgba(189, 178, 178, 0.6);
        box-shadow: 0 0 8px rgba(189, 178, 178, 0.3);
      }

      /* Demo content */
      .content {
        position: relative;
        z-index: 10;
        color: #bdcdd6;
        text-align: center;
        padding: 50px;
        margin-top: 30vh;
      }

      .content h1 {
        font-size: 3rem;
        color: #b31111;
        margin-bottom: 1rem;
      }

      .content p {
        font-size: 1.2rem;
        opacity: 0.8;
        max-width: 600px;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <div class="particles-container" id="particles"></div>

    <div class="content">
      <h1>GSAP Particles</h1>
      <p>Smooth GSAP-powered particles with natural movement and easing.</p>
    </div>

    <script>
      function createParticle() {
        const particle = document.createElement("div");
        particle.className =
          Math.random() > 0.7 ? "particle large" : "particle";

        // Random horizontal position
        const startX = Math.random() * window.innerWidth;
        particle.style.left = startX + "px";
        particle.style.top = window.innerHeight + "px";

        document.getElementById("particles").appendChild(particle);

        // GSAP animation with more natural movement
        const tl = gsap.timeline();

        tl.fromTo(
          particle,
          {
            y: 0,
            x: 0,
            opacity: 0,
            scale: 0.5,
          },
          {
            y: -(window.innerHeight + 100),
            x: gsap.utils.random(-50, 50), // Random horizontal drift
            opacity: 1,
            scale: 1,
            duration: gsap.utils.random(12, 18),
            ease: "none",
          }
        ).to(
          particle,
          {
            opacity: 0,
            scale: 0.5,
            duration: 2,
            ease: "power2.out",
          },
          "-=2"
        );

        // Add subtle floating motion
        gsap.to(particle, {
          x: "+=" + gsap.utils.random(-20, 20),
          duration: gsap.utils.random(3, 6),
          repeat: -1,
          yoyo: true,
          ease: "power1.inOut",
        });

        // Remove particle after animation
        tl.call(() => {
          if (particle.parentNode) {
            particle.parentNode.removeChild(particle);
          }
        });
      }

      // Create particles at intervals
      gsap.delayedCall(0, function createParticleLoop() {
        createParticle();
        gsap.delayedCall(gsap.utils.random(0.5, 1.2), createParticleLoop);
      });
    </script>
  </body>
</html>
